<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Celebrity Membership Card</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
</head>
<body class="bg-neutral-700 text-white flex justify-center items-center min-h-screen">

  <div class="bg-neutral-900 shadow-lg rounded-xl p-6 w-[400px] text-center">
    <!-- Profile Section -->
    <div class="mb-6">
      <img id="profile-image" src="./assets/celebrity_profile.jpg" alt="Celebrity Profile Image" class="w-24 h-24 rounded-full object-cover mx-auto mb-3">
      <h2 class="text-2xl font-bold text-yellow-400">Wesley Whaley</h2>
      <h3 class="text-lg font-medium text-gray-300">Membership Card Form</h3>
    </div>

    <!-- Form Section -->
    <form id="myForm" class="space-y-4">
      <div class="text-left">
        <label for="name" class="block mb-1 font-medium">Full Name:</label>
        <input type="text" id="name" name="name" required 
               class="w-full px-3 py-2 rounded-md border border-gray-600 bg-neutral-800 text-white focus:ring-2 focus:ring-yellow-400 focus:outline-none">
      </div>

      <div class="text-left">
        <label for="email" class="block mb-1 font-medium">Email:</label>
        <input type="email" id="email" name="email" required 
               class="w-full px-3 py-2 rounded-md border border-gray-600 bg-neutral-800 text-white focus:ring-2 focus:ring-yellow-400 focus:outline-none">
      </div>

      <div class="text-left">
        <label for="address" class="block mb-1 font-medium">Address:</label>
        <input type="text" id="address" name="address" required 
               class="w-full px-3 py-2 rounded-md border border-gray-600 bg-neutral-800 text-white focus:ring-2 focus:ring-yellow-400 focus:outline-none">
      </div>

      <div class="text-left">
        <label for="phone" class="block mb-1 font-medium">Phone:</label>
        <input type="tel" id="phone" name="phone" required 
               class="w-full px-3 py-2 rounded-md border border-gray-600 bg-neutral-800 text-white focus:ring-2 focus:ring-yellow-400 focus:outline-none">
      </div>

      <div class="text-left">
        <label for="image-upload" class="block mb-1 font-medium">Upload Image:</label>
        <input type="file" id="image-upload" name="image" accept="image/*" 
               class="w-full text-sm text-gray-300 border border-gray-600 rounded-md cursor-pointer bg-neutral-800 focus:outline-none file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-yellow-400 file:text-black hover:file:bg-yellow-500">
      </div>

      <button type="button" onclick="generateQRCode()" 
              class="w-full py-3 bg-yellow-400 text-black font-bold rounded-md hover:bg-yellow-500 transition">
        Generate QR Code
      </button>

      <!-- QR Code Section -->
      <div id="qr-code" class="hidden mt-6 text-center">
        <img id="qr-image" alt="QR Code" class="mx-auto mb-3">
        <a id="download-link" download="membership_qr.png" href="#" 
           class="text-yellow-400 underline hover:text-yellow-500">Download QR Code</a>
      </div>
    </form>
  </div>

  <script>
    function generateQRCode() {
      var form = document.getElementById("myForm");
      var qrCodeDiv = document.getElementById("qr-code");
      var qrImage = document.getElementById("qr-image");
      var downloadLink = document.getElementById("download-link");

      if (form.checkValidity()) {
        var formData = new FormData(form);
        var qrText = JSON.stringify(Object.fromEntries(formData.entries()));

        qrImage.src = new QRious({
          value: qrText,
          size: 128
        }).toDataURL();

        qrCodeDiv.classList.remove("hidden");
        downloadLink.href = qrImage.src;
      } else {
        form.reportValidity();
      }
    }
  </script>
</body>
</html>
